<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This file documents the use of the GNU compilers.

Copyright (C) 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

A GNU Manual

(b) The FSF's Back-Cover Text is:

You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development. -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>RISC-V Function Attributes (Using the GNU Compiler Collection (GCC))</title>

<meta name="description" content="RISC-V Function Attributes (Using the GNU Compiler Collection (GCC))">
<meta name="keywords" content="RISC-V Function Attributes (Using the GNU Compiler Collection (GCC))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Indices.html#Indices" rel="index" title="Indices">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Function-Attributes.html#Function-Attributes" rel="up" title="Function Attributes">
<link href="RL78-Function-Attributes.html#RL78-Function-Attributes" rel="next" title="RL78 Function Attributes">
<link href="PowerPC-Function-Attributes.html#PowerPC-Function-Attributes" rel="prev" title="PowerPC Function Attributes">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en_US">
<a name="RISC_002dV-Function-Attributes"></a>
<div class="header">
<p>
Next: <a href="RL78-Function-Attributes.html#RL78-Function-Attributes" accesskey="n" rel="next">RL78 Function Attributes</a>, Previous: <a href="PowerPC-Function-Attributes.html#PowerPC-Function-Attributes" accesskey="p" rel="prev">PowerPC Function Attributes</a>, Up: <a href="Function-Attributes.html#Function-Attributes" accesskey="u" rel="up">Function Attributes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="RISC_002dV-Function-Attributes-1"></a>
<h4 class="subsection">6.33.25 RISC-V Function Attributes</h4>

<p>These function attributes are supported by the RISC-V back end:
</p>
<dl compact="compact">
<dd><a name="index-naked-function-attribute_002c-RISC_002dV"></a>
</dd>
<dt><code>naked</code></dt>
<dd><p>This attribute allows the compiler to construct the
requisite function declaration, while allowing the body of the
function to be assembly code. The specified function will not have
prologue/epilogue sequences generated by the compiler. Only basic
<code>asm</code> statements can safely be included in naked functions
(see <a href="Basic-Asm.html#Basic-Asm">Basic Asm</a>). While using extended <code>asm</code> or a mixture of
basic <code>asm</code> and C code may appear to work, they cannot be
depended upon to work reliably and are not supported.
</p>
<a name="index-interrupt-function-attribute_002c-RISC_002dV"></a>
</dd>
<dt><code>interrupt</code></dt>
<dd><p>Use this attribute to indicate that the specified function is an interrupt
handler.  The compiler generates function entry and exit sequences suitable
for use in an interrupt handler when this attribute is present.
</p>
<p>You can specify the kind of interrupt to be handled by adding an optional
parameter to the interrupt attribute like this:
</p>
<div class="smallexample">
<pre class="smallexample">void f (void) __attribute__ ((interrupt (&quot;user&quot;)));
</pre></div>

<p>Permissible values for this parameter are <code>user</code>, <code>supervisor</code>,
and <code>machine</code>.  If there is no parameter, then it defaults to
<code>machine</code>.
</p>
<a name="index-riscv_005fvector_005fcc-function-attribute_002c-RISC_002dV"></a>
</dd>
<dt><code>riscv_vector_cc</code></dt>
<dd><p>Use this attribute to force the function to use the vector calling
convention variant.
</p>
<div class="smallexample">
<pre class="smallexample">void foo() __attribute__((riscv_vector_cc));
[[riscv::vector_cc]] void foo(); // For C++11 and C23
</pre></div>

</dd>
</dl>

<p>The following target-specific function attributes are available for the
RISC-V target.  For the most part, these options mirror the behavior of
similar command-line options (see <a href="RISC_002dV-Options.html#RISC_002dV-Options">RISC-V Options</a>), but on a
per-function basis.
</p>
<dl compact="compact">
<dd><a name="index-arch_003d-function-attribute_002c-RISC_002dV"></a>
</dd>
<dt><code>arch=</code></dt>
<dd><p>Specifies the architecture version and architectural extensions to use
for this function.  The behavior and permissible arguments are the same as
for the <samp>-march=</samp> command-line option, in addtion, it also support
extension enablement list, a list of extension name and prefixed with <code>+</code>,
like <code>arch=+zba</code> means enable <code>zba</code> extension.
Multiple extension can be enabled by separating them with a comma.  For example:
<code>arch=+zba,+zbb</code>.
</p>
<a name="index-tune_003d-function-attribute_002c-RISC_002dV"></a>
</dd>
<dt><code>tune=</code></dt>
<dd><p>Specifies the core for which to tune the performance of this function.
The behavior and permissible arguments are the same as for the <samp>-mtune=</samp>
command-line option.
</p>
<a name="index-cpu_003d-function-attribute_002c-RISC_002dV"></a>
</dd>
<dt><code>cpu=</code></dt>
<dd><p>Specifies the core for which to tune the performance of this function and also
whose architectural features to use.  The behavior and valid arguments are the
same as for the <samp>-mcpu=</samp> command-line option.
</p>
</dd>
</dl>

<p>The above target attributes can be specified as follows:
</p>
<div class="smallexample">
<pre class="smallexample">__attribute__((target(&quot;<var>attr-string</var>&quot;)))
int
f (int a)
{
  return a + 5;
}
</pre></div>

<p>where <code><var>attr-string</var></code> is one of the attribute strings specified above.
</p>
<p>Multiple target function attributes can be specified by separating them with
a semicolon.  For example:
</p><div class="smallexample">
<pre class="smallexample">__attribute__((target(&quot;arch=+zba,+zbb;tune=rocket&quot;)))
int
foo (int a)
{
  return a + 5;
}
</pre></div>

<p>is valid and compiles function <code>foo</code> with <code>zba</code>
and <code>zbb</code> extensions and tunes it for <code>rocket</code>.
</p>
<hr>
<div class="header">
<p>
Next: <a href="RL78-Function-Attributes.html#RL78-Function-Attributes" accesskey="n" rel="next">RL78 Function Attributes</a>, Previous: <a href="PowerPC-Function-Attributes.html#PowerPC-Function-Attributes" accesskey="p" rel="prev">PowerPC Function Attributes</a>, Up: <a href="Function-Attributes.html#Function-Attributes" accesskey="u" rel="up">Function Attributes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
